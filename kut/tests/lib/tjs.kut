// Copyright 08-Mar-2022 ºDeme
// GNU General Public License - V3 <http://www.gnu.org/licenses/>

sys.println("tjs ...");

assert js.wn() == "null";
assert js.isNull("null");

assert js.wb(true) == "true";
assert js.wb(false) == "false";
assert js.rb("true");
assert !js.rb("false");

assert js.wi(-12) == "-12";
assert js.wi(-0) == "0";
assert js.wi(1234) == "1234";
assert js.ri("-12") == -12;
assert js.ri("-0") == 0;
assert js.ri("12") == 12;

assert js.wf(-12.23) == "-12.23";
assert js.wf(-12.23e+4) == "-122300";
assert js.wf(-0.0) == "-0";
assert js.wf(1234.0) == "1234";
assert js.wf(1234.0e-2) == "12.34";
assert math.eq(js.rf("-12.23"), -12.23, 0.00000001);
assert math.eq(js.rf("-122300"), -12.23e+4, 0.00000001);
assert math.eq(js.rf("-0"), -0.0, 0.00000001);
assert math.eq(js.rf("1234"), 1234.0, 0.00000001);
assert math.eq(js.rf("12.34"), 1234.0e-2, 0.00000001);

assert js.wf2(-12.23, 1) == "-12.2";
assert js.wf2(-12.23e+4, 1) == "-122300.0";
assert js.wf2(-0.0, 1) == "-0.0";
assert js.wf2(1234.0, 1) == "1234.0";
assert js.wf2(1235.0e-2, 1) == "12.4";

assert js.ws("") == "\"\"";
assert js.rs("\"\"") == "";
assert js.ws("¿Qué \"suerte\" cogió?") == "\"¿Qué \\\"suerte\\\" cogió?\"";
assert js.rs("\"¿Qué \\\"suerte\\\" cogió?\"") == "¿Qué \"suerte\" cogió?";

assert js.wa([]) == "[]";
assert arr.size(js.ra("[]")) == 0;
assert js.wa([js.wi(1), js.wb(true), js.ws("a")]) == "[1,true,\"a\"]";
ajs = js.ra("[1,true,\"a\"]");
assert arr.size(ajs) == 3;
assert js.ri(ajs[0]) == 1;
assert js.rb(ajs[1]) == true;
assert js.rs(ajs[2]) == "a";

assert js.wo({}) == "{}";
assert map.size(js.ro("{}")) == 0;
m0 = js.ro(js.wo({
  "one": js.wi(-1),
  "two": js.wb(false),
  "three": js.ws(""),
  "four": js.wa([js.wi(1)])
}));
assert js.ri(m0.one) == -1;
assert js.rb(m0.two) == false;
assert js.rs(m0.three) == "";
assert js.ri(js.ra(m0.four)[0]) == 1;

sys.println("  finished.");
